===== [ History of fileset COM/LIBSRC/smb2 ] =====


-----[ Release-1.23 ]-----
[ 2014-10-30 12:29:26 by ch ]
R: New version of header men_typs.h
M: Update men_typs.h

-----[ Release-1.22 ]-----
[ 2014-02-20 17:07:55 by MRoth ]
R: 1) Lib returns SMB_ERR_BUSY if no actual device is on the SMB address
R: 2) cosmetics
M: 1) remanufactured LocWaitBusyReady function
      - added return values SMB_ERR_NO_DEVICE and SMB_ERR_NO
   2) updated function headers, comments and removed redundant access macros

-----[ Release-1.21 ]-----
[ 2013-11-06 08:19:23 by dpfeuffer ]
R:1. Windows: BSOD during shutdown at SC26 with SMB drivers
M:1.a) smb2_com.c: smbComExit: synchronize with SMB transfer that is in progress
    b) smb2_com.c: all external SMB functions: check for initialized smbHdl added

-----[ Release-1.20 ]-----
[ 2013-07-29 16:35:34 by MRoth ]
R: block r/w support (SCH) needed for F75P PIC
M: block r/w support implemented

-----[ Release-1.19 ]-----
[ 2012-12-17 14:34:43 by dpfeuffer ]
R: block r/w and PEC support requested from customer (for F18E)
M: smb2_ich.c: block r/w and PEC support implemented

-----[ Release-1.18 ]-----
[ 2012-07-09 15:31:24 by ts ]
New Checkin due to fpga_load tool under Linux

-----[ Release-1.17 ]-----
[ 2012-03-19 13:13:30 by dpfeuffer ]
R: AMD FCH SMB controller support
M: smb2_ich.c: LocWaitBusyReady(): delay added for FCH

-----[ Release-1.16 ]-----
[ 2012-01-30 11:54:48 by dpfeuffer ]
R: support for FCH ASF SMB controller
M: library.mak: smb2_ich.c added

-----[ Release-1.15 ]-----
[ 2010-12-20 13:19:33 by dpfeuffer ]
R: IO mapped variants for 16Z001 SMB ctrl. required
M: library_io.mak: smb2_menz001.c added

-----[ Release-1.14 ]-----
[ 2010-09-24 13:41:34 by CKauntz ]
R: 1. DBGWRT failed with zero data pointer
   2. bootrom size optimization
M: 1. fixed debug message
   2. added switch SMB_NO_ALERT

-----[ Release-1.13 ]-----
[ 2010-06-21 20:20:52 by ch ]
Documentation update

-----[ Release-1.12 ]-----
[ 2010-06-14 13:39:23 by dpfeuffer ]
R:1. Windows PREfast warnings
  2. smb2_ich.c: sometimes wasting time during transfer
  3. smb2_menz001.c: terminate bit could be set if status is polled before an abort operation finishes
M:1.a) smb2_com.c: smbComSmbXferEmulate() and debug prints modified
    b) smb2_menz001.c, smb2_mgt5200.c: debug prints modified
  2. smb2_ich.c: LocWaitBusyReady() fixed
  3. smb2_menz001.c: add max. 500 ms wait time after starting an abort operation

-----[ Release-1.11 ]-----
[ 2009-10-09 15:05:37 by dpfeuffer ]
R: MDIS5 Windows release
M: no functional changes

-----[ Release-1.10 ]-----
[ 2009-08-28 10:47:57 by dpfeuffer ]
R: WINDOWS/APB5 requires additional category for exported files
M: category export added

-----[ Release-1.9 ]-----
[ 2009-03-17 14:50:11 by dpfeuffer ]
R: compiler warnings wit VC2008 64bit compiler
M: debug prints with pointers changed to %p

-----[ Release-1.8 ]-----
[ 2008-10-20 11:15:34 by MSoehnlein ]
   - Added SCH support
   - defines of BYPASS register bits where missing
   - DBG_INITEXIT_DEFINED_BY_DBG_OS_H switch implemented
   - DBG_MEMDUMP_DEFINED_BY_DBG_OS_H switch implemented
   - MAC_PCI2MAHDL did not compile with 64-bit Windows compiler
   - U_INT32_OR_64 cast added to MAC_PCI2MAHDL
   - native_int error prone for 64-bit removed from M_ADDRSPACE
   - Added MENTYPS_64BIT switch
   - U_INT32_OR_64 define added
   - set WINNT switch if _WIN32 switch is set but not VCIRTX switch is set
   - INT32_OR_64 and __MAPILIB for Windows 64bit defined
   - set WINNT switch if _WIN32 switch is set
   - added type define INT32_OR_64 for 32bit OS
   - added defines for DEADCYC CTRL Register
   - added MGT5200_USB
   - added defines for PSC_MR1, PSC_MR2, PSC_CR
   - added switch OS9000 for u_int64
   - fixed OSS_SWAP64 macro
   - OSS_MemGet() prototype corrected
   - added new error code SMB_ERR_CTRL_BUSY
   - added Multimaster flag in MPC5200 SMB Descriptor
   - added multimasterCap to Z001 descriptor
   - added busyWait to ICH descriptor
   - changed ReservedFctP3() with UseOssDelay()
      to switch between OSS_MikroDelay() and OSS_Delay()
      at runtime
   - fixed debug output in XferEmulate
   - added smbComUseOssDelay()
   - added busyWait initialization
   - only release controller when this SW actually allocated it
   - when normal free (TOUT) doesn't work, try to free bus using clk toggle
   - abort freeBus once successful
   - added optional support for multimaster
   - fixed read word data: return data nonswapped
   - changed initClrChkStatus() to be less aggressive!
   - removed Return Error code SMB_ERR_BUSY in waitBusyReady()
   - set smbHdl->smbComHdl.busyWait at init
   - mgt5200_waitTranfserProgressComplete() unsave detection of transfer start edge
   - added timeout counter compare in mgt5200_i2cWaitWhileBusy()
   - added timeout counter compare in mgt5200_waitTranfserProgressComplete()
   - added mgt5200_smbUseOssDelay()

-----[ Release-1.7 ]-----
[ 2007-08-07 14:57:50 by JWu ]
(AUTOCI) Checkin due to new revision Release-1.7 of fileset COM/LIBSRC/smb2

-----[ Release-1.6 ]-----
[ 2007-07-19 15:28:20 by DPfeuffer ]
smb2_ich.c: cast for Windows compiler was necessary because MACCESS modification

-----[ Release-1.5 ]-----
[ 2007-07-16 10:59:43 by cs ]
added:
  + support for PORTCB (here +documentation, +dbgLevel)
fixed:
  - transfer complete block at SMB_ACC_BLOCK_DATA (last Byte was missing)
  - mgt5200: wrong register at Master Enable
  - MenMon does not know ERR_DEV
removed:
  - SMBALERT support when compiled for user space (no OSS_Alarm* support)

-----[ Release-1.4 ]-----
[ 2007-02-20 15:15:18 by DPfeuffer ]
- map SMB error codes into MDIS device specific error code range now fix
- undo: changed interface of *_Init() and *_Exit functions
           (VxW6.3 must consider this by disabling strict aliasing)
+ SMB_ERR_NO_IDLE
smb2_ich.c
  + smb quick command support
smb2_menz001.c
  + support for I2C messages
  + consider STS_INUSE bit
  fixed:
  - using OSS_Delay(): don't wait for busy bit (already passed)
  - error handling in waitBusyReady()
  - SMB_ACC_BLOCK_DATA (writeCmdForHost())
smb2_mgt5200.c
  changed:
  - interface of *_Init() and *_Exit functions (avoid warnings for VxW6.3)
  fixed:
  - don't free handle when compiled with SMB_FIXED_HANDLE

-----[ Release-1.3 ]-----
[ 2006-05-30 08:53:15 by DPfeuffer ]
- smb2.h: error codes for SMB2_API modified
- smb2_menz001.c: fixed: don't enable interrupt of Z001_SMB (lib does not support interrupts)
- smb2_mgt5200.c: mgt5200_i2cXfer(): return value fixed for error case

-----[ Release-1.2 ]-----
[ 2006-02-27 15:30:57 by DPfeuffer ]
smb2.h
- added define SMB_ERR_ADDR_EXCLUDED
- changed struct SMB_DESC_ICH
smb2_com.c
- smbComExit(): bugfix: semaphore is required for alarm routine
- cmbComAlertCbRemove(): bugfix: empty list recognition was wrong
smb2_ich.c
- SMB_ICH_Init(): alertPollFreq parameter passing added

-----[ Release-1.1 ]-----
[ 2006-02-22 16:12:22 by DPfeuffer ]
smb2.h:
- modifications during SMB2_API development
- added
  + prototypes and descriptors for MGT5200 and MPC85xx I2C controllers
   + SMB_ERR_GENERAL define
- swapped addr and flags in I2CMESSAGE struct
- fixed SMB_FUNC_SMBUS_EMUL define
library.mak:
-  smb2_ich.c removed because device is always i/o mapped
-  added smb2_mgt5200.c, smb2_menz001.c
-smb2_ich.c:
- LocSmbXfer(): SMB_ACC_BYTE_DATA, SMB_ACC_WORD_DATA fixed
- bugfix in SMB_ICH_init
- Added doxygen documentation.
smb2_menz001.c:
- added SMB_FUNC_SMBUS_QUICK to capabilities
- moved assignment of smbHdl->ownSize after zeroing of smbHdl

-----[ Release-1.0 ]-----
[ 2005-11-25 13:34:56 by dpfeuffer ]
Initial Revision

