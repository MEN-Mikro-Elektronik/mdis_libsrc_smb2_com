<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - SMB2 Library - smb2.h Source File</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;"></a>
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">SMB2 Library &nbsp; </h1>
	<h3>smb2.h Source File</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>smb2.h</h1><a href="smb2_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/***********************  I n c l u d e  -  F i l e  ************************/</span>
00014 <span class="comment">/*-------------------------------[ History ]---------------------------------</span>
00015 <span class="comment"> *</span>
00016 <span class="comment"> * $Log: smb2.h,v $</span>
00017 <span class="comment"> * Revision 3.23  2009/12/22 16:04:18  gvarlet</span>
00018 <span class="comment"> * R: False definition of MOFFS</span>
00019 <span class="comment"> * M: Remove false definition of MOFFS</span>
00020 <span class="comment"> *</span>
00021 <span class="comment"> * Revision 3.22  2009/12/10 11:08:02  gvarlet</span>
00022 <span class="comment"> * R: Definition for MOFFS missing.</span>
00023 <span class="comment"> * M: Add define for MOFFS</span>
00024 <span class="comment"> *</span>
00025 <span class="comment"> * Revision 3.21  2009/07/28 14:22:05  sy</span>
00026 <span class="comment"> * add declaration of SMB_MENZ001_Init_Aligned()</span>
00027 <span class="comment"> *</span>
00028 <span class="comment"> * Revision 3.20  2009/06/22 11:59:41  dpfeuffer</span>
00029 <span class="comment"> * R: MDVE warning</span>
00030 <span class="comment"> * M: added __MAPILIB define</span>
00031 <span class="comment"> *</span>
00032 <span class="comment"> * Revision 3.19  2008/10/20 10:43:00  MSoehnlein</span>
00033 <span class="comment"> * added SCH support</span>
00034 <span class="comment"> *</span>
00035 <span class="comment"> * Revision 3.18  2008/06/30 18:11:02  CSchuster</span>
00036 <span class="comment"> * R: Library may handle new error when controller is busy for other SW</span>
00037 <span class="comment"> * M: added new error code SMB_ERR_CTRL_BUSY</span>
00038 <span class="comment"> *</span>
00039 <span class="comment"> * Revision 3.17  2008/05/06 14:21:59  RLange</span>
00040 <span class="comment"> * Added Multimaster flag in MPC5200 SMB Descriptor</span>
00041 <span class="comment"> *</span>
00042 <span class="comment"> * Revision 3.16  2007/11/23 20:19:27  cs</span>
00043 <span class="comment"> * added:</span>
00044 <span class="comment"> *  + multimasterCap to Z001 descriptor</span>
00045 <span class="comment"> *</span>
00046 <span class="comment"> * Revision 3.15  2007/10/09 09:33:59  SVogel</span>
00047 <span class="comment"> * added busyWait to ICH descriptor</span>
00048 <span class="comment"> *</span>
00049 <span class="comment"> * Revision 3.14  2007/09/12 12:04:35  ufranke</span>
00050 <span class="comment"> * changed</span>
00051 <span class="comment"> *  - fill ReservedFctP3() with UseOssDelay()</span>
00052 <span class="comment"> *    to switch between OSS_MikroDelay() and OSS_Delay()</span>
00053 <span class="comment"> *    at runtime</span>
00054 <span class="comment"> *</span>
00055 <span class="comment"> * Revision 3.13  2007/03/08 15:20:04  cs</span>
00056 <span class="comment"> * added:</span>
00057 <span class="comment"> *   + support for PORTCB (here +documentation, +dbgLevel)</span>
00058 <span class="comment"> *</span>
00059 <span class="comment"> * Revision 3.12  2007/02/27 20:55:16  rt</span>
00060 <span class="comment"> * fixed:</span>
00061 <span class="comment"> * - MenMon does not know ERR_DEV</span>
00062 <span class="comment"> *</span>
00063 <span class="comment"> * Revision 3.11  2007/02/20 15:10:36  DPfeuffer</span>
00064 <span class="comment"> * - map SMB error codes into MDIS device specific error code range now fix</span>
00065 <span class="comment"> * - undo: changed interface of *_Init() and *_Exit functions</span>
00066 <span class="comment"> *         (VxW6.3 must consider this by disabling strict aliasing)</span>
00067 <span class="comment"> *</span>
00068 <span class="comment"> * Revision 3.10  2007/01/05 17:35:29  cs</span>
00069 <span class="comment"> * added:</span>
00070 <span class="comment"> *   + SMB_ERR_NO_IDLE</span>
00071 <span class="comment"> *</span>
00072 <span class="comment"> * Revision 3.9  2006/11/27 09:16:49  rt</span>
00073 <span class="comment"> * cosmetics</span>
00074 <span class="comment"> *</span>
00075 <span class="comment"> * Revision 3.8  2006/09/11 11:27:40  cs</span>
00076 <span class="comment"> * changed:</span>
00077 <span class="comment"> *   - interface of *_Init() and *_Exit functions (avoid warnings for VxW6.3)</span>
00078 <span class="comment"> *</span>
00079 <span class="comment"> * Revision 3.7  2006/05/26 15:08:37  DPfeuffer</span>
00080 <span class="comment"> * error codes for SMB2_API modified</span>
00081 <span class="comment"> *</span>
00082 <span class="comment"> * Revision 3.6  2006/03/03 10:52:47  DPfeuffer</span>
00083 <span class="comment"> * - SMB_ENTRIES sructure: __MAPILIB for function pointer declarations added</span>
00084 <span class="comment"> * (required for proper calling convention for SMB2_API under Windows)</span>
00085 <span class="comment"> *</span>
00086 <span class="comment"> * Revision 3.5  2006/02/27 15:26:50  DPfeuffer</span>
00087 <span class="comment"> * - added define SMB_ERR_ADDR_EXCLUDED</span>
00088 <span class="comment"> * - changed struct SMB_DESC_ICH</span>
00089 <span class="comment"> *</span>
00090 <span class="comment"> * Revision 3.4  2006/02/22 16:02:08  DPfeuffer</span>
00091 <span class="comment"> * modifications during SMB2_API development</span>
00092 <span class="comment"> * SMB_DESC_ICH struct: alertPollFreq added</span>
00093 <span class="comment"> * Revision 3.3  2006/02/07 19:23:01  cschuster</span>
00094 <span class="comment"> * added</span>
00095 <span class="comment"> *    + prototypes and descriptors for MGT5200 and MPC85xx I2C controllers</span>
00096 <span class="comment"> *    + SMB_ERR_GENERAL define</span>
00097 <span class="comment"> * swapped addr and flags in I2CMESSAGE struct</span>
00098 <span class="comment"> * fixed SMB_FUNC_SMBUS_EMUL define</span>
00099 <span class="comment"> *</span>
00100 <span class="comment"> * Revision 3.2  2005/11/24 10:14:18  SVogel</span>
00101 <span class="comment"> * Added ICH support to library.</span>
00102 <span class="comment"> *</span>
00103 <span class="comment"> * Revision 3.1  2005/11/22 09:22:33  cschuster</span>
00104 <span class="comment"> * Initial Revision</span>
00105 <span class="comment"> * cloned from sysmanagbus.h</span>
00106 <span class="comment"> *---------------------------------------------------------------------------</span>
00107 <span class="comment"> * (c) Copyright 2005 by MEN Mikro Elektronik GmbH, Nuremberg, Germany</span>
00108 <span class="comment"> ****************************************************************************/</span>
00109 <span class="preprocessor">#ifndef _SMB2_H</span>
00110 <span class="preprocessor"></span><span class="preprocessor">#  define _SMB2_H</span>
00111 <span class="preprocessor"></span>
00112 <span class="preprocessor">#  ifdef __cplusplus</span>
00113 <span class="preprocessor"></span>      <span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00114 <span class="preprocessor">#  endif</span>
00115 <span class="preprocessor"></span>
00116 <span class="comment">/*-----------------------------------------+</span>
00117 <span class="comment">|  TYPEDEFS                                |</span>
00118 <span class="comment">+-----------------------------------------*/</span>
00119 
00120 <span class="preprocessor">#ifndef SMB2_API</span>
00121 <span class="preprocessor"></span><span class="comment">/********* Descriptors for initializing host controller and library ************/</span>
00122 
00124 <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00125"></a><a class="code" href="structSMB__DESC__MENZ001.html">00125</a> <span class="keyword"></span>{
00126     <span class="keywordtype">void</span>       *baseAddr;       
<a name="l00127"></a><a class="code" href="structSMB__DESC__MENZ001.html#m0">00127</a>     u_int32    sclFreq;         
<a name="l00128"></a><a class="code" href="structSMB__DESC__MENZ001.html#m1">00128</a>     u_int32    dbgLevel;        
<a name="l00129"></a><a class="code" href="structSMB__DESC__MENZ001.html#m2">00129</a>     int32      busyWait;        
00131     int32      alertPollFreq;   
00134     u_int32    timeOut;         
00136     u_int32    mikroDelay;      
<a name="l00137"></a><a class="code" href="structSMB__DESC__MENZ001.html#m6">00137</a>     u_int32    multimasterCap;  
00139 }<a class="code" href="structSMB__DESC__MENZ001.html">SMB_DESC_MENZ001</a>;
00140 
00142 <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00143"></a><a class="code" href="structSMB__DESC__ALI1543.html">00143</a> <span class="keyword"></span>{
00144     <span class="keywordtype">void</span>       *baseAddr;
00145 }<a class="code" href="structSMB__DESC__ALI1543.html">SMB_DESC_ALI1543</a>;
00146 
00148 <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00149"></a><a class="code" href="structSMB__DESC__PORTCB.html">00149</a> <span class="keyword"></span>{
00150     u_int8     busClock;    
00155     <span class="keywordtype">void</span>       *cbArg;      
<a name="l00156"></a><a class="code" href="structSMB__DESC__PORTCB.html#m1">00156</a>     int        (*sclIn)(<span class="keywordtype">void</span> *);            
00157     int        (*sclSet)(<span class="keywordtype">void</span> *, <span class="keywordtype">int</span> val);  
00158     int        (*sdaIn)(<span class="keywordtype">void</span> *);            
00159     int        (*sdaSet)(<span class="keywordtype">void</span> *, <span class="keywordtype">int</span> val);  
00161     u_int32    dbgLevel;    
<a name="l00162"></a><a class="code" href="structSMB__DESC__PORTCB.html#m6">00162</a> } <a class="code" href="structSMB__DESC__PORTCB.html">SMB_DESC_PORTCB</a>;
00163 
00165 <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00166"></a><a class="code" href="structSMB__DESC__ICH.html">00166</a> <span class="keyword"></span>{
00167     <span class="keywordtype">void</span>       *baseAddr;       
<a name="l00168"></a><a class="code" href="structSMB__DESC__ICH.html#m0">00168</a>     u_int32    dbgLevel;        
<a name="l00169"></a><a class="code" href="structSMB__DESC__ICH.html#m1">00169</a>     int32      alertPollFreq;   
00172     int32      busyWait;        
00174 }<a class="code" href="structSMB__DESC__ICH.html">SMB_DESC_ICH</a>;
00175 
00177 <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00178"></a><a class="code" href="structSMB__DESC__FCH.html">00178</a> <span class="keyword"></span>{
00179     <span class="keywordtype">void</span>       *baseAddr;       
<a name="l00180"></a><a class="code" href="structSMB__DESC__FCH.html#m0">00180</a>     u_int32    dbgLevel;        
<a name="l00181"></a><a class="code" href="structSMB__DESC__FCH.html#m1">00181</a>     int32      alertPollFreq;   
00184     int32      busyWait;        
00186 }<a class="code" href="structSMB__DESC__FCH.html">SMB_DESC_FCH</a>;
00187 
00189 <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00190"></a><a class="code" href="structSMB__DESC__SCH.html">00190</a> <span class="keyword"></span>{
00191     <span class="keywordtype">void</span>       *baseAddr;       
<a name="l00192"></a><a class="code" href="structSMB__DESC__SCH.html#m0">00192</a>     u_int32    dbgLevel;        
<a name="l00193"></a><a class="code" href="structSMB__DESC__SCH.html#m1">00193</a>     int32      alertPollFreq;   
00196     int32      busyWait;        
00198 }<a class="code" href="structSMB__DESC__SCH.html">SMB_DESC_SCH</a>;
00199 
00201 <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00202"></a><a class="code" href="structSMB__DESC__MGT5200.html">00202</a> <span class="keyword"></span>{
00203     <span class="keywordtype">void</span>       *baseAddr;       
<a name="l00204"></a><a class="code" href="structSMB__DESC__MGT5200.html#m0">00204</a>     u_int32    divReg;          
<a name="l00205"></a><a class="code" href="structSMB__DESC__MGT5200.html#m1">00205</a>     u_int32    filterReg;       
<a name="l00206"></a><a class="code" href="structSMB__DESC__MGT5200.html#m2">00206</a>     u_int32    dbgLevel;        
<a name="l00207"></a><a class="code" href="structSMB__DESC__MGT5200.html#m3">00207</a>     u_int32    timeOut;         
<a name="l00208"></a><a class="code" href="structSMB__DESC__MGT5200.html#m4">00208</a>     u_int32    mikroDelay;      
<a name="l00209"></a><a class="code" href="structSMB__DESC__MGT5200.html#m5">00209</a>     int32      alertPollFreq;   
00212     u_int32    multimasterCap;  
00214 }<a class="code" href="structSMB__DESC__MGT5200.html">SMB_DESC_MGT5200</a>;
00215 
00217 <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00218"></a><a class="code" href="structSMB__DESC__MPC85XX.html">00218</a> <span class="keyword"></span>{
00219     <span class="keywordtype">void</span>       *baseAddr;       
<a name="l00220"></a><a class="code" href="structSMB__DESC__MPC85XX.html#m0">00220</a>     u_int32    divReg;          
<a name="l00221"></a><a class="code" href="structSMB__DESC__MPC85XX.html#m1">00221</a>     u_int32    filterReg;       
<a name="l00222"></a><a class="code" href="structSMB__DESC__MPC85XX.html#m2">00222</a>     u_int32    dbgLevel;        
<a name="l00223"></a><a class="code" href="structSMB__DESC__MPC85XX.html#m3">00223</a>     u_int32    timeOut;         
<a name="l00224"></a><a class="code" href="structSMB__DESC__MPC85XX.html#m4">00224</a>     u_int32    mikroDelay;      
<a name="l00225"></a><a class="code" href="structSMB__DESC__MPC85XX.html#m5">00225</a>     int32      alertPollFreq;   
00228 }<a class="code" href="structSMB__DESC__MPC85XX.html">SMB_DESC_MPC85XX</a>;
00229 
00231 <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00232"></a><a class="code" href="structSMB__DESC__FSLIMX6.html">00232</a> <span class="keyword"></span>{
00233     u_int32    unit;            
<a name="l00234"></a><a class="code" href="structSMB__DESC__FSLIMX6.html#m0">00234</a>     u_int32    dbgLevel;        
<a name="l00235"></a><a class="code" href="structSMB__DESC__FSLIMX6.html#m1">00235</a>     u_int32    timeOut;         
<a name="l00236"></a><a class="code" href="structSMB__DESC__FSLIMX6.html#m2">00236</a>     u_int32    mikroDelay;      
<a name="l00237"></a><a class="code" href="structSMB__DESC__FSLIMX6.html#m3">00237</a> }<a class="code" href="structSMB__DESC__FSLIMX6.html">SMB_DESC_FSLIMX6</a>;
00238 
00239 <span class="comment">/******************** Common typedefs for SMB2 library *************************/</span>
00240 
00242 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00243"></a><a class="code" href="structSMB__COM__HANDLE.html">00243</a>     OSS_HANDLE      *osHdl;         
<a name="l00244"></a><a class="code" href="structSMB__COM__HANDLE.html#m0">00244</a>     u_int32         dbgLevel;       
<a name="l00245"></a><a class="code" href="structSMB__COM__HANDLE.html#m1">00245</a>     DBG_HANDLE      *dbgHdl;        
<a name="l00246"></a><a class="code" href="structSMB__COM__HANDLE.html#m2">00246</a>     OSS_SEM_HANDLE  *hostCtrlSem;   
<a name="l00247"></a><a class="code" href="structSMB__COM__HANDLE.html#m3">00247</a>     int32           busyWait;       
<a name="l00248"></a><a class="code" href="structSMB__COM__HANDLE.html#m4">00248</a>     OSS_ALARM_HANDLE *alarmHdl;     
<a name="l00249"></a><a class="code" href="structSMB__COM__HANDLE.html#m5">00249</a>     int32           alertPollFreq;  
00251     OSS_DL_LIST     smbAlertCb;     
<a name="l00252"></a><a class="code" href="structSMB__COM__HANDLE.html#m7">00252</a>     int32 (*ExitCom)( <span class="keywordtype">void</span> *smbHdl );
00253 }<a class="code" href="structSMB__COM__HANDLE.html">SMB_COM_HANDLE</a>;
00254 
00255 <span class="preprocessor">#endif </span><span class="comment">/* SMB2_API */</span>
00256 
00258 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structI2CMESSAGE.html">I2CMESSAGE</a>
<a name="l00259"></a><a class="code" href="structI2CMESSAGE.html">00259</a> {
00260     u_int16 <a class="code" href="structI2CMESSAGE.html#m0">addr</a>;                   
<a name="l00261"></a><a class="code" href="structI2CMESSAGE.html#m0">00261</a>     u_int32 <a class="code" href="structI2CMESSAGE.html#m1">flags</a>;                  
<a name="l00262"></a><a class="code" href="structI2CMESSAGE.html#m1">00262</a> <span class="preprocessor">#define I2C_M_TEN           0x0010  </span>
<a name="l00263"></a><a class="code" href="smb2_8h.html#a0">00263</a> <span class="preprocessor">#define I2C_M_WR            0x0000  </span>
<a name="l00264"></a><a class="code" href="smb2_8h.html#a1">00264</a> <span class="preprocessor">#define I2C_M_RD            0x0001  </span>
<a name="l00265"></a><a class="code" href="smb2_8h.html#a2">00265</a> <span class="preprocessor">#define I2C_M_NOSTART       0x4000  </span>
<a name="l00266"></a><a class="code" href="smb2_8h.html#a3">00266</a> <span class="preprocessor">#define I2C_M_REV_DIR_ADDR  0x2000</span>
00267 <span class="preprocessor"></span>    u_int16 <a class="code" href="structI2CMESSAGE.html#m2">len</a>;                    
<a name="l00268"></a><a class="code" href="structI2CMESSAGE.html#m2">00268</a>     u_int8 *<a class="code" href="structI2CMESSAGE.html#m3">buf</a>;                    
<a name="l00269"></a><a class="code" href="structI2CMESSAGE.html#m3">00269</a> } <a class="code" href="structI2CMESSAGE.html">SMB_I2CMESSAGE</a>;
00270 
00271 <span class="preprocessor">#define i2cMessage SMB_I2CMESSAGE   </span><span class="comment">/* for compatibility with older SW */</span>
00272 
00273 <span class="preprocessor">#ifndef __MAPILIB</span>
00274 <span class="preprocessor"></span><span class="preprocessor">#   define __MAPILIB</span>
00275 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00276 <span class="preprocessor"></span>
00278 <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00279"></a><a class="code" href="structSMB__ENTRIES.html">00279</a> <span class="keyword"></span>{
00281     <span class="keywordtype">char</span>* (__MAPILIB *Ident)( void );
00282 
00284     int32 (__MAPILIB *Exit)( <span class="keywordtype">void</span> **smbHdlP );
00285 
00288     int32 (__MAPILIB *QuickComm)( <span class="keywordtype">void</span> *smbHdl, u_int32 flags, u_int16 addr,
00289                                     u_int8 read_write );
00290 
00292     int32 (__MAPILIB *WriteByte)( <span class="keywordtype">void</span> *smbHdl, u_int32 flags, u_int16 addr,
00293                                     u_int8 data );
00294 
00296     int32 (__MAPILIB *ReadByte)( <span class="keywordtype">void</span> *smbHdl, u_int32 flags, u_int16 addr,
00297                                     u_int8 *data );
00298 
00300     int32 (__MAPILIB *WriteByteData)( <span class="keywordtype">void</span> *smbHdl, u_int32 flags, u_int16 addr,
00301                                     u_int8 cmdAddr, u_int8 data );
00302 
00303 
00305     int32 (__MAPILIB *ReadByteData) ( <span class="keywordtype">void</span> *smbHdl, u_int32 flags, u_int16 addr,
00306                                         u_int8 cmdAddr, u_int8 *data );
00307 
00309     int32 (__MAPILIB *WriteWordData)( <span class="keywordtype">void</span> *smbHdl, u_int32 flags, u_int16 addr,
00310                                         u_int8 cmdAddr, u_int16 data );
00311 
00313     int32 (__MAPILIB *ReadWordData)( <span class="keywordtype">void</span> *smbHdl, u_int32 flags, u_int16 addr,
00314                                         u_int8 cmdAddr, u_int16 *data );
00315 
00317     int32 (__MAPILIB *WriteBlockData)( <span class="keywordtype">void</span> *smbHdl, u_int32 flags, u_int16 addr,
00318                                     u_int8 cmdAddr, u_int8 length, u_int8 *data );
00319 
00321     int32 (__MAPILIB *ReadBlockData)( <span class="keywordtype">void</span> *smbHdl, u_int32 flags, u_int16 addr,
00322                                     u_int8 cmdAddr,  u_int8 *length, u_int8 *data );
00323 
00325     int32 (__MAPILIB *ProcessCall)( <span class="keywordtype">void</span> *smbHdl, u_int32 flags, u_int16 addr,
00326                                     u_int8 cmdAddr, u_int16 *data );
00327 
00329     int32 (__MAPILIB *BlockProcessCall)( <span class="keywordtype">void</span> *smbHdl, u_int32 flags, u_int16 addr,
00330                                u_int8 cmdAddr, u_int8 writeDataLen, u_int8 *writeData,
00331                                u_int8 *readDataLen, u_int8 *readData );
00332 
00334     int32 (__MAPILIB *AlertResponse)( <span class="keywordtype">void</span> *smbHdl, u_int32 flags,
00335                                     u_int16 addr, u_int16 *alertCnt);
00336 
00338     int32 (__MAPILIB *AlertCbInstall)( <span class="keywordtype">void</span> *smbHdl, u_int16 addr,
00339                                     void (__MAPILIB *cbFuncP)( <span class="keywordtype">void</span> *cbArg ), <span class="keywordtype">void</span> *cbArg );
00340 
00342     int32 (__MAPILIB *AlertCbRemove)( <span class="keywordtype">void</span> *smbHdl, u_int16 addr, <span class="keywordtype">void</span> **cbArgP );
00343 
00344      <span class="comment">/* Reserved function pointers */</span>
00345     int32 (__MAPILIB *ReservedFctP1)( void );
00346     int32 (__MAPILIB *ReservedFctP2)( void );
00347     int32 (__MAPILIB *ReservedFctP3)( void );
00348 
00350     int32 (__MAPILIB *UseOssDelay)(  <span class="keywordtype">void</span> *smbHdl, <span class="keywordtype">int</span> useOssDelay );
00351 
00353     int32 (__MAPILIB *SmbXfer)( <span class="keywordtype">void</span> *smbHdl, u_int32 flags, u_int16 addr,
00354                                 u_int8 read_write, u_int8 cmdAdr,
00355                                 u_int8 size, u_int8 *data);
00356 
00358     int32 (__MAPILIB *I2CXfer)( <span class="keywordtype">void</span> *smbHdl, <a class="code" href="structI2CMESSAGE.html">SMB_I2CMESSAGE</a> msg[], u_int32 num );
00359 
00360     int32 Reserved1[2]; <span class="comment">/*   Reserved */</span>
00361     u_int32 Capability; 
<a name="l00362"></a><a class="code" href="structSMB__ENTRIES.html#m30">00362</a> }<a class="code" href="structSMB__ENTRIES.html">SMB_ENTRIES</a>;
00363 
00364 <span class="preprocessor">#if !defined(SMB_COMPILE) &amp;&amp; !defined(SMB2_API_COMPILE)</span>
00365 <span class="preprocessor"></span>    <span class="keyword">typedef</span> <a class="code" href="structSMB__ENTRIES.html">SMB_ENTRIES</a> <a class="code" href="structSMB__ENTRIES.html">SMB_HANDLE</a>;
00366 <span class="preprocessor">#endif </span><span class="comment">/*SMB_COMPILE*/</span>
00367 
00368 <span class="comment">/*-----------------------------------------+</span>
00369 <span class="comment">|  DEFINES &amp; CONST                         |</span>
00370 <span class="comment">+-----------------------------------------*/</span>
00373 <span class="preprocessor">#define SMB_ADDR_GENERAL_CALL   0x00</span>
<a name="l00374"></a><a class="code" href="smb2_8h.html#a6">00374</a> <span class="preprocessor"></span><span class="preprocessor">#define SMB_ADDR_10BIT_SLAVE    0xF0    </span>
00380 <span class="preprocessor">#define SMB_ADDR_ALERT_RESPONSE 0x18    </span>
00383 <span class="preprocessor">#define SMB_READ    1   </span>
<a name="l00384"></a><a class="code" href="smb2_8h.html#a9">00384</a> <span class="preprocessor">#define SMB_WRITE   0   </span>
00387 <span class="preprocessor">#define SMB_FUNC_I2C                    0x00000001 </span>
<a name="l00388"></a><a class="code" href="smb2_8h.html#a11">00388</a> <span class="preprocessor">#define SMB_FUNC_10BIT_ADDR             0x00000002 </span>
<a name="l00389"></a><a class="code" href="smb2_8h.html#a12">00389</a> <span class="preprocessor">#define SMB_FUNC_PROTOCOL_MANGLING      0x00000004 </span><span class="comment">/* I2C_M_{REV_DIR_ADDR,NOSTART} */</span>
00390 <span class="preprocessor">#define SMB_FUNC_SMBUS_HWPEC_CALC       0x00000008 </span>
<a name="l00391"></a><a class="code" href="smb2_8h.html#a14">00391</a> <span class="preprocessor">#define SMB_FUNC_SMBUS_QUICK            0x00010000</span>
00392 <span class="preprocessor"></span><span class="preprocessor">#define SMB_FUNC_SMBUS_READ_BYTE        0x00020000</span>
00393 <span class="preprocessor"></span><span class="preprocessor">#define SMB_FUNC_SMBUS_WRITE_BYTE       0x00040000</span>
00394 <span class="preprocessor"></span><span class="preprocessor">#define SMB_FUNC_SMBUS_READ_BYTE_DATA   0x00080000</span>
00395 <span class="preprocessor"></span><span class="preprocessor">#define SMB_FUNC_SMBUS_WRITE_BYTE_DATA  0x00100000</span>
00396 <span class="preprocessor"></span><span class="preprocessor">#define SMB_FUNC_SMBUS_READ_WORD_DATA   0x00200000</span>
00397 <span class="preprocessor"></span><span class="preprocessor">#define SMB_FUNC_SMBUS_WRITE_WORD_DATA  0x00400000</span>
00398 <span class="preprocessor"></span><span class="preprocessor">#define SMB_FUNC_SMBUS_PROC_CALL        0x00800000</span>
00399 <span class="preprocessor"></span><span class="preprocessor">#define SMB_FUNC_SMBUS_READ_BLOCK_DATA  0x01000000</span>
00400 <span class="preprocessor"></span><span class="preprocessor">#define SMB_FUNC_SMBUS_WRITE_BLOCK_DATA 0x02000000</span>
00401 <span class="preprocessor"></span><span class="preprocessor">#define SMB_FUNC_SMBUS_BLOCK_PROC_CALL  0x04000000</span>
00402 <span class="preprocessor"></span><span class="preprocessor">#define SMB_FUNC_SMBUS_READ_I2C_BLOCK   0x10000000 </span>
<a name="l00403"></a><a class="code" href="smb2_8h.html#a26">00403</a> <span class="preprocessor">#define SMB_FUNC_SMBUS_WRITE_I2C_BLOCK  0x20000000 </span>
00405 <span class="preprocessor">#define SMB_FUNC_SMBUS_BYTE       SMB_FUNC_SMBUS_READ_BYTE | \</span>
00406 <span class="preprocessor">                                  SMB_FUNC_SMBUS_WRITE_BYTE</span>
00407 <span class="preprocessor"></span><span class="preprocessor">#define SMB_FUNC_SMBUS_BYTE_DATA  SMB_FUNC_SMBUS_READ_BYTE_DATA | \</span>
00408 <span class="preprocessor">                                  SMB_FUNC_SMBUS_WRITE_BYTE_DATA</span>
00409 <span class="preprocessor"></span><span class="preprocessor">#define SMB_FUNC_SMBUS_WORD_DATA  SMB_FUNC_SMBUS_READ_WORD_DATA | \</span>
00410 <span class="preprocessor">                                  SMB_FUNC_SMBUS_WRITE_WORD_DATA</span>
00411 <span class="preprocessor"></span><span class="preprocessor">#define SMB_FUNC_SMBUS_BLOCK_DATA SMB_FUNC_SMBUS_READ_BLOCK_DATA | \</span>
00412 <span class="preprocessor">                                  SMB_FUNC_SMBUS_WRITE_BLOCK_DATA</span>
00413 <span class="preprocessor"></span><span class="preprocessor">#define SMB_FUNC_SMBUS_I2C_BLOCK  SMB_FUNC_SMBUS_READ_I2C_BLOCK | \</span>
00414 <span class="preprocessor">                                  SMB_FUNC_SMBUS_WRITE_I2C_BLOCK</span>
00415 <span class="preprocessor"></span>
00416 <span class="preprocessor">#define SMB_FUNC_SMBUS_EMUL SMB_FUNC_SMBUS_QUICK | \</span>
00417 <span class="preprocessor">                            SMB_FUNC_SMBUS_BYTE | \</span>
00418 <span class="preprocessor">                            SMB_FUNC_SMBUS_BYTE_DATA | \</span>
00419 <span class="preprocessor">                            SMB_FUNC_SMBUS_WORD_DATA | \</span>
00420 <span class="preprocessor">                            SMB_FUNC_SMBUS_PROC_CALL | \</span>
00421 <span class="preprocessor">                            SMB_FUNC_SMBUS_WRITE_BLOCK_DATA</span>
00422 <span class="preprocessor"></span>
00423 <span class="comment">/**********************************************************</span>
00424 <span class="comment"> * Note: Any changes on SMB_ERR_ codes must be considered</span>
00425 <span class="comment"> *       in SMB2_API/smb2_api.c/errStrTable</span>
00426 <span class="comment"> *********************************************************/</span>
00432 <span class="comment">/* map SMB error codes into MDIS device specific error code range */</span>
00433 <span class="preprocessor">#ifdef ERR_DEV</span>
00434 <span class="preprocessor"></span><span class="preprocessor"># define MOFFS (ERR_DEV+0x80)</span>
00435 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00436 <span class="preprocessor"></span><span class="preprocessor"># define MOFFS 0</span>
00437 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/*ERR_DEV*/</span>
00438 
00439 <span class="preprocessor">#define SMB_ERR_NO                  (0x00)         </span>
<a name="l00440"></a><a class="code" href="group____SMB2__ERR.html#a1">00440</a> <span class="preprocessor">#define SMB_ERR_DESCRIPTOR          (0x01 + MOFFS) </span>
<a name="l00441"></a><a class="code" href="group____SMB2__ERR.html#a2">00441</a> <span class="preprocessor">#define SMB_ERR_NO_MEM              (0x02 + MOFFS) </span>
<a name="l00442"></a><a class="code" href="group____SMB2__ERR.html#a3">00442</a> <span class="preprocessor">#define SMB_ERR_ADDR                (0x03 + MOFFS) </span>
<a name="l00443"></a><a class="code" href="group____SMB2__ERR.html#a4">00443</a> <span class="preprocessor">#define SMB_ERR_BUSY                (0x04 + MOFFS) </span>
<a name="l00444"></a><a class="code" href="group____SMB2__ERR.html#a5">00444</a> <span class="preprocessor">#define SMB_ERR_COLL                (0x05 + MOFFS) </span>
<a name="l00445"></a><a class="code" href="group____SMB2__ERR.html#a6">00445</a> <span class="preprocessor">#define SMB_ERR_NO_DEVICE           (0x06 + MOFFS) </span>
<a name="l00446"></a><a class="code" href="group____SMB2__ERR.html#a7">00446</a> <span class="preprocessor">#define SMB_ERR_PARAM               (0x07 + MOFFS) </span>
<a name="l00447"></a><a class="code" href="group____SMB2__ERR.html#a8">00447</a> <span class="preprocessor">#define SMB_ERR_PEC                 (0x08 + MOFFS) </span>
<a name="l00448"></a><a class="code" href="group____SMB2__ERR.html#a9">00448</a> <span class="preprocessor">#define SMB_ERR_NOT_SUPPORTED       (0x09 + MOFFS) </span>
<a name="l00449"></a><a class="code" href="group____SMB2__ERR.html#a10">00449</a> <span class="preprocessor">#define SMB_ERR_GENERAL             (0x0a + MOFFS) </span>
<a name="l00450"></a><a class="code" href="group____SMB2__ERR.html#a11">00450</a> <span class="preprocessor">#define SMB_ERR_ALERT_INSTALL       (0x0b + MOFFS) </span>
<a name="l00451"></a><a class="code" href="group____SMB2__ERR.html#a12">00451</a> <span class="preprocessor">#define SMB_ERR_ALERT_NOSIG         (0x0c + MOFFS) </span>
<a name="l00452"></a><a class="code" href="group____SMB2__ERR.html#a13">00452</a> <span class="preprocessor">#define SMB_ERR_ADDR_EXCLUDED       (0x0d + MOFFS) </span>
<a name="l00453"></a><a class="code" href="group____SMB2__ERR.html#a14">00453</a> <span class="preprocessor">#define SMB_ERR_NO_IDLE             (0x0e + MOFFS) </span>
<a name="l00454"></a><a class="code" href="group____SMB2__ERR.html#a15">00454</a> <span class="preprocessor">#define SMB_ERR_CTRL_BUSY           (0x0f + MOFFS) </span>
<a name="l00455"></a><a class="code" href="group____SMB2__ERR.html#a16">00455</a> <span class="preprocessor">#define SMB_ERR_LAST                (0x10 + MOFFS) </span>
00462 <span class="preprocessor">#define SMB_FLAG_TENBIT         0x00000001 </span>
<a name="l00463"></a><a class="code" href="group____SMB2__FLAG.html#a0">00463</a> <span class="preprocessor">#define SMB_FLAG_PEC            0x00000002 </span>
00466 <span class="preprocessor">#define SMB_DESC_PORT_FLAG_SIZE_MASK        0x07</span>
00467 <span class="preprocessor"></span><span class="preprocessor">#define SMB_DESC_PORT_FLAG_SIZE_8           0x01</span>
00468 <span class="preprocessor"></span><span class="preprocessor">#define SMB_DESC_PORT_FLAG_SIZE_16          0x02</span>
00469 <span class="preprocessor"></span><span class="preprocessor">#define SMB_DESC_PORT_FLAG_SIZE_32          0x04</span>
00470 <span class="preprocessor"></span>
00471 <span class="preprocessor">#define SMB_DESC_PORT_FLAG_POLARITY_HIGH    0x10</span>
00472 <span class="preprocessor"></span><span class="preprocessor">#define SMB_DESC_PORT_FLAG_READABLE_REG     0x20</span>
00473 <span class="preprocessor"></span>
00475 <span class="preprocessor">#define SMB_BLOCK_MAX_BYTES 32  </span>
00479 <span class="preprocessor">#define I2C_BLOCK_MAX_BYTES 128 </span>
00483 <span class="preprocessor">#define SMB_ACC_QUICK           0</span>
<a name="l00484"></a><a class="code" href="smb2_8h.html#a62">00484</a> <span class="preprocessor"></span><span class="preprocessor">#define SMB_ACC_BYTE            1</span>
00485 <span class="preprocessor"></span><span class="preprocessor">#define SMB_ACC_BYTE_DATA       2</span>
00486 <span class="preprocessor"></span><span class="preprocessor">#define SMB_ACC_WORD_DATA       3</span>
00487 <span class="preprocessor"></span><span class="preprocessor">#define SMB_ACC_PROC_CALL       4</span>
00488 <span class="preprocessor"></span><span class="preprocessor">#define SMB_ACC_BLOCK_DATA      5</span>
00489 <span class="preprocessor"></span><span class="preprocessor">#define SMB_ACC_BLOCK_PROC_CALL 6</span>
00490 <span class="preprocessor"></span><span class="preprocessor">#define SMB_ACC_I2C_BLOCK_DATA  7</span>
00491 <span class="preprocessor"></span>
00492 <span class="preprocessor">#ifndef SMB2_API</span>
00493 <span class="preprocessor"></span><span class="comment">/*-----------------------------------------+</span>
00494 <span class="comment">|  PROTOTYPES                              |</span>
00495 <span class="comment">+-----------------------------------------*/</span>
00498 u_int32 <a class="code" href="smb2__com_8c.html#a27">SMB_COM_Init</a>( <span class="keywordtype">void</span> *smbHdl );
00499 
00501 <span class="keyword">extern</span> u_int32 SMB_MENZ001_Init(    <a class="code" href="structSMB__DESC__MENZ001.html">SMB_DESC_MENZ001</a> *descP, OSS_HANDLE *osHdl, <span class="keywordtype">void</span> **smbHdlP );
00502 <span class="keyword">extern</span> u_int32 SMB_MENZ001_IO_Init( <a class="code" href="structSMB__DESC__MENZ001.html">SMB_DESC_MENZ001</a> *descP, OSS_HANDLE *osHdl, <span class="keywordtype">void</span> **smbHdlP );
00503 <span class="keyword">extern</span> u_int32 SMB_MENZ001_Init_Aligned(<a class="code" href="structSMB__DESC__MENZ001.html">SMB_DESC_MENZ001</a> *descP, OSS_HANDLE *osHdl, <span class="keywordtype">void</span> **smbHdlP );
00504 
00506 <span class="keyword">extern</span> u_int32 <a class="code" href="smb2__ich_8c.html#a67">SMB_ICH_Init</a>(        <a class="code" href="structSMB__DESC__ICH.html">SMB_DESC_ICH</a>     *descP, OSS_HANDLE *osHdl, <span class="keywordtype">void</span> **smbHdlP);
00507 <span class="keyword">extern</span> u_int32 SMB_ICH_IO_Init(     <a class="code" href="structSMB__DESC__ICH.html">SMB_DESC_ICH</a>     *descP, OSS_HANDLE *osHdl, <span class="keywordtype">void</span> **smbHdlP);
00508 
00510 <span class="keyword">extern</span> u_int32 <a class="code" href="smb2__fch_8c.html#a67">SMB_FCH_Init</a>(        <a class="code" href="structSMB__DESC__FCH.html">SMB_DESC_FCH</a>     *descP, OSS_HANDLE *osHdl, <span class="keywordtype">void</span> **smbHdlP);
00511 <span class="keyword">extern</span> u_int32 SMB_FCH_IO_Init(     <a class="code" href="structSMB__DESC__FCH.html">SMB_DESC_FCH</a>     *descP, OSS_HANDLE *osHdl, <span class="keywordtype">void</span> **smbHdlP);
00512 
00514 <span class="keyword">extern</span> u_int32 <a class="code" href="smb2__sch_8c.html#a13">SMB_SCH_Init</a>(        <a class="code" href="structSMB__DESC__SCH.html">SMB_DESC_SCH</a>     *descP, OSS_HANDLE *osHdl, <span class="keywordtype">void</span> **smbHdlP);
00515 <span class="keyword">extern</span> u_int32 SMB_SCH_IO_Init(     <a class="code" href="structSMB__DESC__SCH.html">SMB_DESC_SCH</a>     *descP, OSS_HANDLE *osHdl, <span class="keywordtype">void</span> **smbHdlP);
00516 
00517 <span class="keyword">extern</span> u_int32 SMB_MGT5200_Init(    <a class="code" href="structSMB__DESC__MGT5200.html">SMB_DESC_MGT5200</a> *descP, OSS_HANDLE *osHdl, <span class="keywordtype">void</span> **smbHdlP );
00518 
00519 <span class="comment">/* exported by smb2_mgt5200.c: */</span>
00520 <span class="keyword">extern</span> u_int32 SMB_MPC85XX_Init(    <a class="code" href="structSMB__DESC__MPC85XX.html">SMB_DESC_MPC85XX</a> *descP, OSS_HANDLE *osHdl, <span class="keywordtype">void</span> **smbHdlP);
00521 
00522 u_int32 SMB_ALI1543_Init( <a class="code" href="structSMB__DESC__ALI1543.html">SMB_DESC_ALI1543</a> *descP, OSS_HANDLE *osHdl, <span class="keywordtype">void</span> **smbHdlP );
00523 
00524 u_int32 SMB_PORTCB_Init(  <a class="code" href="structSMB__DESC__PORTCB.html">SMB_DESC_PORTCB</a>    *descP, OSS_HANDLE *osHdl, <span class="keywordtype">void</span> **smbHdlP );
00525 u_int32 SMB_PORTCB_HandleSize(<span class="keywordtype">void</span>);
00526 <span class="preprocessor">#endif </span><span class="comment">/* SMB2_API */</span>
00527 
00528 <span class="preprocessor">#  ifdef __cplusplus</span>
00529 <span class="preprocessor"></span>      }
00530 <span class="preprocessor">#  endif</span>
00531 <span class="preprocessor"></span>
00532 <span class="preprocessor">#endif</span><span class="comment">/*_SMB2_H*/</span>
00533 
00534 
00535 
00536 
00537 
00538 
00539 
00540 
00541 
</pre></div>
	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for SMB2 Library using <a href="http://www.doxygen.org">doxygen</a>.<br>
	Copyright &copy; 2016 <a href="http://www.men.de">MEN Mikro Elektronik GmbH</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

